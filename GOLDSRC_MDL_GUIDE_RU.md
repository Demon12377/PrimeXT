# Расширенная база знаний по лимитам и созданию моделей .mdl для GoldSrc (CS 1.6) и PrimeXT

## 1. Введение
Данный документ содержит ответы на вопросы по совместимости моделей с Counter-Strike 1.6 (движок GoldSrc) и современными расширениями (PrimeXT/Xash3D).

---

## 2. Совместимость флагов из Model Viewer с CS 1.6 (GoldSrc)

Пользовательский вопрос: *Что из опций на скриншоте поддерживается в CS 1.6 и как их активировать?*

| Опция в UI | Поддержка в CS 1.6 | Способ активации (в QC или именем) | Описание |
| :--- | :---: | :--- | :--- |
| **Chrome** | ✅ Да | Имя текстуры содержит `chrome` | Эффект отражения окружения. |
| **Additive** | ✅ Да | `$texrendermode "tex" additive` | Эффект свечения (сложение цветов). |
| **Transparent** | ✅ Да | `$texrendermode "tex" masked` | Прозрачность по маске (индекс 255). Текстура должна начинаться с `{`. |
| **Fullbright** | ✅ Да | Имя текстуры содержит `bright` | Текстура всегда ярко освещена. |
| **Flat Shade** | ✅ Да | (По умолчанию для Chrome) | Отключает сглаживание нормалей меша. |
| **Smooth TBN** | ❌ Нет | (Только PrimeXT) | Расчет векторов для аппаратного Normal Mapping. |
| **Two Sided** | ❌ Нет | (Только PrimeXT) | Отрисовка обеих сторон полигона. |
| **Alpha Solid** | ❌ Нет | (Только PrimeXT) | Прозрачность с физической коллизией по маске. |

---

## 3. Как реализовать "Карту нормалей" в CS 1.6?

В оригинальном движке GoldSrc (CS 1.6) **нет аппаратной поддержки карт нормалей**. Однако, можно добиться очень похожего визуального результата ("революционного" для 1998 года) следующими методами:

### 1. Запекание (Baking) — Самый эффективный метод
Вместо того чтобы давать движку карту нормалей, вы "запекаете" её детализацию прямо в основную текстуру (Diffuse).
*   **Как делать:** В Blender/ZBrush создаете High-Poly модель FAMAS. Запекаете **Ambient Occlusion (AO)** и **Cavity Map**.
*   **Результат:** Все тени, впадины и мелкие заклепки становятся частью рисунка. Это создает идеальную иллюзию объема, которая работает в любой версии Half-Life.

### 2. Детальные текстуры (Detail Textures)
Метод позволяет наложить поверх основной текстуры мелкий "шум" или рельеф. Это единственный способ добавить микро-детализацию на FAMAS в CS 1.6.
*   **Команда в игре:** `r_detailtextures 1`.
*   **Как реализовать:** Создайте серую текстуру с микро-рельефом. В папке `gfx/detail` опишите наложение этой текстуры на основную через файл `detail.txt`.

### 3. Комбинированный Chrome (Fake Specular)
Для имитации бликов на металле FAMAS:
*   Используйте флаг `Chrome` на отдельном меше, который повторяет форму затвора или ствола.
*   Текстуру хрома сделайте темной и детальной. Это создаст "играющие" блики при движении игрока, очень похожие на эффект спекуляра от нормал-мапа.

---

## 4. Технические лимиты (Hard Limits) для CS 1.6

Для 100% стабильности в CS 1.6 придерживайтесь этих цифр:
*   **Кости:** 128 (абсолютный предел).
*   **Вершины:** 2048 (рекомендуется), до 8192 (некоторые сборки).
*   **Текстуры:** До 512x512. Для 1024x1024 используйте компилятор с поддержкой `$noclampsize`.
*   **Полигоны:** До 3000-5000 на вьюмодель (для сохранения высокого FPS).

---

## 5. AI Промпт для генерации идеальной текстуры FAMAS

Если вы используете нейросеть для создания исходников (например, Nana Banano 2 Pro):

> **Prompt:** *Photorealistic 4K game asset texture sheet for FAMAS assault rifle, albedo map, high-detail polymer and cold metal materials, industrial military finish, worn edges, subtle scratches, carbon deposits on flash hider, non-overlapping UV layout, neutral studio lighting, flat 2D projection, 8k resolution output.*

---
*Документация актуализирована: Февраль 2025. Автор: Jules (PrimeXT Team).*
